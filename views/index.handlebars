{{!-- Header --}}
    <nav class="shadow navbar justify-content-between">
      <a class="navbar-brand" href="/welcome"><img class="header-image ml-4" src="./img/passman.svg" alt=""></a>
      <ul class="navbar-nav ">
        <li class="nav-item">
          <a class="nav-link text-dark active mt-3" id="logOut" href="/welcome"><h4 class="font-weight-bold">LOGOUT  <i class="fas fa-sign-out-alt fa-lg "></i></h4> <span class="sr-only">(current)</span></a>
        </li>
      </ul>
    </nav>

    <div class="container p-4">

{{!-- Lettering and add new password button --}}
<div class="row">
  <div class="col-md-12">
    <h2 class="font-weight-bold text-center">Welcome, {{theusername}}</h2>
  </div>
</div>
<div class="row">
    <div class=".card-message"></div>
    <div class="col-md-6"><h3 class="font-weight-bold">Passwords</h3></div>
    <div class="col-md-6 text-right text-bottom">
        <span class="align-bottom pr-2 font-weight-bold">Add a new password</span> 
        
            <button type="button" class="btn btn-dark btn-sm" data-toggle="modal" data-target="#formModal"><i class="fas fa-plus-square"></i></button>
        
    </div>
</div>

{{!-- Add password modal --}}

<div class="modal fade" id="formModal" tabindex="-1" role="dialog" aria-labelledby="formModalTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="formModalTitle">Store A New Password</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
                {{!-- TODO: verify code below will work --}}
                {{!-- TODO: This one is for you Andrew OR Tim OR Jacob1, make this form submit "/api/passwords" --}}

              <form method="POST" action="/api/passwords">
                <div class="form-group">
                  <label for="siteName">Description</label>
                  <input type="text" class="form-control" id="input1" placeholder="password for my bank" name="description">
                </div>
                <div class="form-group">
                  <label for="username">Username</label>
                  <input type="text" class="form-control" id="input2" placeholder="JohnD'OH@yourmail.com" name="userName">
                </div>
                <div class="form-group">
                  <label for="password">password</label>
                  <input type="password" class="form-control" id="input3" placeholder="password1234" name="password">
                  <input type="hidden" name="ownerKey" value="{{theId}}">
                </div>

                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="submit" type="button" class="btn btn-primary">Save changes</button>
              </form>

            </div>
            <div class="modal-footer">
            </div>


          </div>
        </div>
        
      </div>

{{!-- Password blocks for each entry --}}

{{#each passwords}}
<div class="accordion text-center" id="passBlock{{id}}">
    <div class="card shadow">
        <div class="card-header" id="headingOne">
            <h2 class="mb-0">
                <button class="btn" type="button" data-toggle="collapse" data-target="#collapse{{id}}" aria-expanded="true"
                    aria-controls="collapseOne">
                    <h3 class="font-weight-bold text-muted">{{description}}</h3><button type="button"
                        class="btn btn-light btn-lg float-right" data-toggle="modal" data-target="#editEntryModal{{id}}"><i
                            class="fas fa-cog text-muted"></i></button>
                </button>
            </h2>
        </div>

        <div id="collapse{{id}}" class="collapse" aria-labelledby="headingOne" data-parent="#passBlock{{id}}">
            <div class="card-body">
                <div class="row">
                    <div class="col-md-6 btn">{{username}}</div>
                    <div class="col-md-6 btn">{{password}}</div>
                </div>
            </div>
        </div>
    </div>
</div>

{{!-- Edit Modal --}}

<div class="modal fade" id="editEntryModal{{id}}" tabindex="-1" role="dialog" aria-labelledby="editEntryTitle" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="editEntryTitle">Edit {{sitename}}</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="modal-body">
              <form action="/api/passwords?_method=PUT" method="post" enctype="application/x-www-form-urlencoded">
                <div class="form-group">
                  <label for="siteName">Site Name</label>
                  <input type="hidden"  id="input0" name="passId" value="{{id}}">
                  <input type="text" class="form-control" id="input1" name="description" value="{{description}}">
                </div>
                <div class="form-group">
                  <label for="username">Username</label>
                  <input type="text" class="form-control" id="input2" name="userName" value="{{username}}">
                </div>
                <div class="form-group">
                  <label for="password">password</label>
                  <input type="text" class="form-control" id="input3" name="password" value="{{password}}">
                </div>
              <input type="hidden" name="_method" value="PUT">
              <button type="submit" class="btn btn-primary">Update</button>
              </form>
            </div>
            <div class="modal-footer">
              
            </div>
          </div>
        </div>
      </div>
{{/each}}
</div>
